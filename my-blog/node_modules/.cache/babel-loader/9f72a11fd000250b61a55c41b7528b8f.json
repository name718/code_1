{"remainingRequest":"/Users/majuntao/Desktop/code/my-blog/node_modules/babel-loader/lib/index.js!/Users/majuntao/Desktop/code/my-blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/majuntao/Desktop/code/my-blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/majuntao/Desktop/code/my-blog/src/components/scrollpage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/majuntao/Desktop/code/my-blog/src/components/scrollpage/index.vue","mtime":1648119962101},{"path":"/Users/majuntao/Desktop/code/my-blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/majuntao/Desktop/code/my-blog/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/majuntao/Desktop/code/my-blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/majuntao/Desktop/code/my-blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"index\",\n  props: {\n    loading: Boolean,\n    noData: Boolean,\n    offset: Number\n  },\n  mounted: function mounted() {\n    window.addEventListener('scroll', this.handleScroll, false);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('scroll', this.handleScroll);\n  },\n  data: function data() {\n    return {\n      scrollAction: {\n        x: 'undefined',\n        y: 'undefined'\n      }\n    };\n  },\n  methods: {\n    handleScroll: function handleScroll(e) {\n      var that = this;\n\n      if (!that.noData) {\n        var curHeight = document.documentElement.scrollTop || document.body.scrollTop;\n        var scrollPage = document.getElementById('scroll-page');\n\n        if (curHeight + window.innerHeight >= that.$refs.scroll.offsetHeight + that.offset) {\n          if (!that.loading) {\n            that.$emit('load');\n          }\n        }\n      }\n    },\n    isDownDirection: function isDownDirection() {\n      if (typeof this.scrollAction.x == 'undefined') {\n        this.scrollAction.x = window.pageXOffset;\n        this.scrollAction.y = window.pageYOffset;\n      }\n\n      var diffx = this.scrollAction.x - window.pageXOffset;\n      var diffy = this.scrollAction.y - window.pageYOffset;\n      this.scrollAction.x = window.pageXOffset;\n      this.scrollAction.y = window.pageYOffset;\n\n      if (diffx < 0) {} else if (diffx > 0) {} else if (diffy < 0) {\n        return true;\n      } else if (diffy > 0) {}\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,MAAA,EAAA,OAFA;AAGA,IAAA,MAAA,EAAA;AAHA,GAFA;AAOA,EAAA,OAPA,qBAOA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,YAAA,EAAA,KAAA;AACA,GATA;AAUA,EAAA,aAVA,2BAUA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,YAAA;AACA,GAZA;AAaA,EAAA,IAbA,kBAaA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AACA,QAAA,CAAA,EAAA,WADA;AAEA,QAAA,CAAA,EAAA;AAFA;AADA,KAAA;AAMA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,CADA,EACA;AACA,UAAA,IAAA,GAAA,IAAA;;AACA,UAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,YAAA,SAAA,GAAA,QAAA,CAAA,eAAA,CAAA,SAAA,IAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,YAAA,UAAA,GAAA,QAAA,CAAA,cAAA,CAAA,aAAA,CAAA;;AACA,YAAA,SAAA,GAAA,MAAA,CAAA,WAAA,IAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,YAAA,GAAA,IAAA,CAAA,MAAA,EAAA;AACA,cAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,YAAA,IAAA,CAAA,KAAA,CAAA,MAAA;AACA;AACA;AACA;AACA,KAZA;AAaA,IAAA,eAbA,6BAaA;AACA,UAAA,OAAA,KAAA,YAAA,CAAA,CAAA,IAAA,WAAA,EAAA;AACA,aAAA,YAAA,CAAA,CAAA,GAAA,MAAA,CAAA,WAAA;AACA,aAAA,YAAA,CAAA,CAAA,GAAA,MAAA,CAAA,WAAA;AACA;;AACA,UAAA,KAAA,GAAA,KAAA,YAAA,CAAA,CAAA,GAAA,MAAA,CAAA,WAAA;AACA,UAAA,KAAA,GAAA,KAAA,YAAA,CAAA,CAAA,GAAA,MAAA,CAAA,WAAA;AAEA,WAAA,YAAA,CAAA,CAAA,GAAA,MAAA,CAAA,WAAA;AACA,WAAA,YAAA,CAAA,CAAA,GAAA,MAAA,CAAA,WAAA;;AAEA,UAAA,KAAA,GAAA,CAAA,EAAA,CAEA,CAFA,MAEA,IAAA,KAAA,GAAA,CAAA,EAAA,CAEA,CAFA,MAEA,IAAA,KAAA,GAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA,IAAA,KAAA,GAAA,CAAA,EAAA,CAEA;AACA;AAjCA;AArBA,CAAA","sourcesContent":["<template>\n    <div ref=\"scroll\" id=\"scroll-page\" style=\"overflow:hidden\">\n        <slot></slot>\n        <div\n        style=\"height:40px;margin-top:10px;z-index: 1;\"\n        v-loading=\"loading\"\n        element-loading-text=\"拼命加载中\"\n        element-loading-spinner=\"el-icon-loading\"\n        element-loading-background=\"rgba(245,245,245)\"></div>\n    </div>\n</template>\n<script>\nexport default {\n    name:\"index\",\n    props:{\n        loading:Boolean,\n        noData:Boolean,\n        offset:Number\n    },\n    mounted(){\n        window.addEventListener('scroll', this.handleScroll,false);\n    },\n    beforeDestroy(){\n        window.removeEventListener('scroll', this.handleScroll);\n    },\n    data(){\n        return {\n            scrollAction:{\n                x:'undefined',\n                y:'undefined'\n            }\n        }\n    },\n    methods:{\n        handleScroll(e){\n            let that = this;\n            if(!that.noData){\n                let curHeight = document.documentElement.scrollTop || document.body.scrollTop;\n                let scrollPage = document.getElementById('scroll-page');\n                if(curHeight + window.innerHeight >= that.$refs.scroll.offsetHeight + that.offset){\n                    if(!that.loading){\n                        that.$emit('load');\n                    }\n                }\n            }\n        },\n        isDownDirection(){\n            if(typeof this.scrollAction.x == 'undefined'){\n                this.scrollAction.x = window.pageXOffset;\n                this.scrollAction.y = window.pageYOffset;\n            }\n            let diffx = this.scrollAction.x - window.pageXOffset;\n            let diffy = this.scrollAction.y - window.pageYOffset;\n\n            this.scrollAction.x = window.pageXOffset;\n            this.scrollAction.y = window.pageYOffset;\n\n            if(diffx < 0){\n\n            }else if(diffx > 0){\n\n            }else if(diffy < 0){\n                return true;\n            }else if(diffy > 0){\n                 \n            }\n        }\n    }\n\n}\n</script>\n"],"sourceRoot":"src/components/scrollpage"}]}