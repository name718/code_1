{"remainingRequest":"/Users/majuntao/Desktop/code/my-blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/majuntao/Desktop/code/my-blog/src/components/scrollpage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/majuntao/Desktop/code/my-blog/src/components/scrollpage/index.vue","mtime":1648119962101},{"path":"/Users/majuntao/Desktop/code/my-blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/majuntao/Desktop/code/my-blog/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/majuntao/Desktop/code/my-blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/majuntao/Desktop/code/my-blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name:\"index\",\n    props:{\n        loading:Boolean,\n        noData:Boolean,\n        offset:Number\n    },\n    mounted(){\n        window.addEventListener('scroll', this.handleScroll,false);\n    },\n    beforeDestroy(){\n        window.removeEventListener('scroll', this.handleScroll);\n    },\n    data(){\n        return {\n            scrollAction:{\n                x:'undefined',\n                y:'undefined'\n            }\n        }\n    },\n    methods:{\n        handleScroll(e){\n            let that = this;\n            if(!that.noData){\n                let curHeight = document.documentElement.scrollTop || document.body.scrollTop;\n                let scrollPage = document.getElementById('scroll-page');\n                if(curHeight + window.innerHeight >= that.$refs.scroll.offsetHeight + that.offset){\n                    if(!that.loading){\n                        that.$emit('load');\n                    }\n                }\n            }\n        },\n        isDownDirection(){\n            if(typeof this.scrollAction.x == 'undefined'){\n                this.scrollAction.x = window.pageXOffset;\n                this.scrollAction.y = window.pageYOffset;\n            }\n            let diffx = this.scrollAction.x - window.pageXOffset;\n            let diffy = this.scrollAction.y - window.pageYOffset;\n\n            this.scrollAction.x = window.pageXOffset;\n            this.scrollAction.y = window.pageYOffset;\n\n            if(diffx < 0){\n\n            }else if(diffx > 0){\n\n            }else if(diffy < 0){\n                return true;\n            }else if(diffy > 0){\n                 \n            }\n        }\n    }\n\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/components/scrollpage","sourcesContent":["<template>\n    <div ref=\"scroll\" id=\"scroll-page\" style=\"overflow:hidden\">\n        <slot></slot>\n        <div\n        style=\"height:40px;margin-top:10px;z-index: 1;\"\n        v-loading=\"loading\"\n        element-loading-text=\"拼命加载中\"\n        element-loading-spinner=\"el-icon-loading\"\n        element-loading-background=\"rgba(245,245,245)\"></div>\n    </div>\n</template>\n<script>\nexport default {\n    name:\"index\",\n    props:{\n        loading:Boolean,\n        noData:Boolean,\n        offset:Number\n    },\n    mounted(){\n        window.addEventListener('scroll', this.handleScroll,false);\n    },\n    beforeDestroy(){\n        window.removeEventListener('scroll', this.handleScroll);\n    },\n    data(){\n        return {\n            scrollAction:{\n                x:'undefined',\n                y:'undefined'\n            }\n        }\n    },\n    methods:{\n        handleScroll(e){\n            let that = this;\n            if(!that.noData){\n                let curHeight = document.documentElement.scrollTop || document.body.scrollTop;\n                let scrollPage = document.getElementById('scroll-page');\n                if(curHeight + window.innerHeight >= that.$refs.scroll.offsetHeight + that.offset){\n                    if(!that.loading){\n                        that.$emit('load');\n                    }\n                }\n            }\n        },\n        isDownDirection(){\n            if(typeof this.scrollAction.x == 'undefined'){\n                this.scrollAction.x = window.pageXOffset;\n                this.scrollAction.y = window.pageYOffset;\n            }\n            let diffx = this.scrollAction.x - window.pageXOffset;\n            let diffy = this.scrollAction.y - window.pageYOffset;\n\n            this.scrollAction.x = window.pageXOffset;\n            this.scrollAction.y = window.pageYOffset;\n\n            if(diffx < 0){\n\n            }else if(diffx > 0){\n\n            }else if(diffy < 0){\n                return true;\n            }else if(diffy > 0){\n                 \n            }\n        }\n    }\n\n}\n</script>\n"]}]}